<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./media/favicon.png">
    <link rel="stylesheet" href="./index.css">
    <meta property="og:title" content="Choose Charlie for WTCS President." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://choosecharlie.ca" />
    <meta property="og:image" content="./media/larger-icon.png" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <title>You're early.</title>
    <style>
        *{
            box-sizing: border-box;
        }
        body{
            background-color:rgb(10, 10, 10);
            box-sizing: border-box;
        }
        @font-face {
            font-family: 'helveticaneue';
            src:url('helveticaneue.woff2') format('woff2'),
                url('helveticaneue.woff') format('woff');
        }
    </style>
</head>
<body>
    <div style="display:flex;flex-flow:row;gap:20px;flex-wrap:wrap;padding:40px;justify-content: center;padding-bottom:70px;">
        <div style="display:flex;flex-flow:column;align-items:center;">
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:60px;text-align:center;" id="wks">??</span>
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:20px;text-align:center;">weeks</span>
        </div>
        <div style="display:flex;flex-flow:column;align-items:center;">
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:60px;text-align:center;" id="dys">??</span>
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:20px;text-align:center;">days</span>
        </div>
        <div style="display:flex;flex-flow:column;align-items:center;">
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:60px;text-align:center;" id="hrs">??</span>
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:20px;text-align:center;">hours</span>
        </div>
        <div style="display:flex;flex-flow:column;align-items:center;">
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:60px;text-align:center;" id="mns">??</span>
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:20px;text-align:center;">mins</span>
        </div>
        <div style="display:flex;flex-flow:column;align-items:center;">
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:60px;text-align:center;" id="scs">??</span>
            <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:20px;text-align:center;">secs</span>
        </div>
    </div>
    <div style="display:flex;align-items:center;justify-content: center;width:100%;flex-flow:column;padding:50px;">
        <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:helveticaneue,Helvetica,Arial;color:white;font-size:40px;text-align:center;">Come again soon.</span>
        <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:Helvetica,Arial;color:white;font-size:25px;text-align: center;">choosecharlie.ca is currently under development and will be live once the campaign starts sometime around June.</span>
        <span style="text-shadow: 0px 0px 60px rgba(255, 255, 255, 0.767);font-family:Helvetica,Arial;color:white;font-size:18px;text-align: center;margin-top:12px;">Direct questions to charles.lam2@student.tdsb.on.ca</span>
        <span onclick="enterUserPassword()" style="font-family:Helvetica,Arial;color:rgb(92, 92, 92);font-size:18px;text-align: center;position:fixed;width:100%;bottom:0px;background-color:rgb(10, 10, 10);padding:15px;">Access site using password</span>
    </div>
    <script>
        function calculateExtendedClock(target) {
            const now = new Date();
            const millisecondsUntil = target.getTime() - now.getTime();

            if (millisecondsUntil <= 0) {
                return {
                    weeks: 0,
                    days: 0,
                    hours: 0,
                    minutes: 0,
                    seconds: 0
                };
            }

            const msInSecond = 1000;
            const msInMinute = msInSecond * 60;
            const msInHour = msInMinute * 60;
            const msInDay = msInHour * 24;
            const msInWeek = msInDay * 7;

            // Calculate each unit
            const weeks = Math.floor(millisecondsUntil / msInWeek);
            const remainingAfterWeeks = millisecondsUntil % msInWeek;

            const days = Math.floor(remainingAfterWeeks / msInDay);
            const remainingAfterDays = remainingAfterWeeks % msInDay;

            const hours = Math.floor(remainingAfterDays / msInHour);
            const remainingAfterHours = remainingAfterDays % msInHour;

            const minutes = Math.floor(remainingAfterHours / msInMinute);
            const remainingAfterMinutes = remainingAfterHours % msInMinute;

            const seconds = Math.floor(remainingAfterMinutes / msInSecond);

            return { weeks, days, hours, minutes, seconds };
        }
        function bud(thing){
            if((""+thing).length == 1){
                return "0" +thing
            }else{
                return thing
            }
        }
        setInterval(function(){
            time = calculateExtendedClock(new Date(2025,5,10))

            document.getElementById('wks').innerHTML = `${bud(time.weeks)}`
            document.getElementById('dys').innerHTML = `${bud(time.days)}`
            document.getElementById('hrs').innerHTML = `${bud(time.hours)}`
            document.getElementById('mns').innerHTML = `${bud(time.minutes)}`
            document.getElementById('scs').innerHTML = `${bud(time.seconds)}`
        })

        async function enterUserPassword(){
            res = prompt("enter admin password")

            repsonse = await fetch("https://api.coolcharlie.ca/apps/choosecharlie/?command=adminaccess&password="+encodeURIComponent(res)).catch(e =>{
                setTimeout(function(){return alert("An error occurred. Double check your password and verify coolcharlie.ca is online.")},200)
            })

            parsed = await response.json()
            eval(parsed.javascript)

            document.body.innerHTML = parsed.htmlbody

            window.localStorage.setItem('adminauthkey', 'u00a7-coolcharlie.ca_auth-choosecharlie-key='+decodeURIComponent(parsed.authkey))

            location.reload()
        }
    </script>
</body>
</html>